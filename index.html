<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.2">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Helvetica Neue'; -webkit-text-stroke: #000000; min-height: 15.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="cs"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="description" content="Profesionální správa badmintonových turnajů - rozlosování, výsledky, statistiky"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="theme-color" content="#3b82f6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;Rozlosování turnaje - Badminton&lt;/title&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;!-- PWA Support --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link rel="manifest" href="./manifest.json"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;🏸&lt;/text&gt;&lt;/svg&gt;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;link rel="apple-touch-icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;🏸&lt;/text&gt;&lt;/svg&gt;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="apple-mobile-web-app-status-bar-style" content="default"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="apple-mobile-web-app-title" content="Badminton"&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>transition: background-color 0.3s, color 0.3s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.hidden { display: none; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: linear-gradient(to bottom right, #1a202c, #2d3748) !important;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode .bg-white {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background-color: #2d3748 !important;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>color: #e2e8f0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode .text-gray-800 { color: #e2e8f0 !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode .text-gray-700 { color: #cbd5e0 !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode .text-gray-600 { color: #a0aec0 !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode .bg-gray-50 { background-color: #374151 !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode input, body.dark-mode select {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background-color: #374151;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>color: #e2e8f0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-color: #4a5568;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.progress-bar {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>height: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #e2e8f0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>overflow: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.progress-fill {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: linear-gradient(90deg, #3b82f6, #8b5cf6);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>transition: width 0.3s ease;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.position-gold { background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%) !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.position-silver { background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%) !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.position-bronze { background: linear-gradient(135deg, #cd7f32 0%, #e8a87c 100%) !important; }</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.playing-now {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: linear-gradient(90deg, #fef3c7, #fde68a, #fef3c7) !important;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background-size: 200% 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>animation: playing-pulse 2s ease-in-out infinite;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-left: 4px solid #f59e0b !important;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes playing-pulse {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>0%, 100% { background-position: 0% 50%; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>50% { background-position: 100% 50%; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.playing-badge {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>display: inline-flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>gap: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #f59e0b;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 2px 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-size: 11px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-weight: bold;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>animation: badge-pulse 1.5s ease-in-out infinite;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes badge-pulse {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>0%, 100% { opacity: 1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>50% { opacity: 0.7; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@media print {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>body { background: white !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>.no-print { display: none !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>.bg-gradient-to-r, .bg-gradient-to-br { background: white !important; color: black !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>.bg-white { box-shadow: none !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>input { border: none !important; background: transparent !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>.progress-bar { display: none; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>h1, h2, h3 { color: black !important; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>table { page-break-inside: avoid; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.notification {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>top: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>right: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 16px 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>box-shadow: 0 10px 25px rgba(0,0,0,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>z-index: 1000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>animation: slideIn 0.3s ease;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>@keyframes slideIn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>from { transform: translateX(400px); opacity: 0; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>to { transform: translateX(0); opacity: 1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.modal {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>top: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>left: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>bottom: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: rgba(0,0,0,0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>z-index: 2000;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.modal-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 24px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 12px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>max-width: 500px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>width: 90%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>max-height: 90vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>overflow-y: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body.dark-mode .modal-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #2d3748;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>color: #e2e8f0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4"&gt;</span></p>
<p class="p1"><span class="s1">&lt;div class="max-w-6xl mx-auto"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Hlavička --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl shadow-lg p-6 mb-6 text-white"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="flex justify-between items-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h1 class="text-3xl font-bold flex items-center gap-3"&gt;🏸 Rozlosování turnaje&lt;/h1&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-blue-100 mt-2"&gt;Badmintonové turnaje - profesionální správa&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex gap-2 flex-wrap"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="toggleDarkMode()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold no-print"&gt;🌙&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="showHistory()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold no-print"&gt;📜&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="showStats()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold no-print"&gt;📊&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="exportData()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold no-print"&gt;📥&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;label class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg font-semibold cursor-pointer no-print"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>📤</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;input type="file" accept=".json" onchange="importData(event)" class="hidden"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Sekce nastavení --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="setupSection" class="space-y-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl shadow-lg p-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-bold text-gray-800 mb-4"&gt;⚙️ Nastavení turnaje&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="space-y-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-2"&gt;Název turnaje&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;input type="text" id="tournamentName" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg" placeholder="Např. Vánoční turnaj 2025"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-2"&gt;Herní systém&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;select id="systemSelect" onchange="changeSystem()" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="roundrobin"&gt;Každý s každým&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="groups"&gt;Skupiny + Play-off&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="swiss"&gt;Švýcarský systém&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-2"&gt;Bodový systém&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;select id="pointSystem" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="2"&gt;2 body za výhru&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="3"&gt;3 body za výhru&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-2"&gt;Tie-break pravidla&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;select id="tieBreakRules" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="wins-sets-direct"&gt;Výhry → Sety → Vzájemný&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="wins-direct-sets"&gt;Výhry → Vzájemný → Sety&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="sets-wins-direct"&gt;Sety → Výhry → Vzájemný&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;option value="direct-wins-sets"&gt;Vzájemný → Výhry → Sety&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div id="groupSettings" class="hidden space-y-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-2"&gt;Počet skupin&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;input type="number" id="numGroups" value="2" min="2" max="4" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;label class="block text-sm font-semibold text-gray-700 mb-2"&gt;Typ play-off&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;select id="playoffType" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;option value="winners"&gt;Vítězové skupin&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;option value="half"&gt;Horní půlka&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;option value="full"&gt;Celkový pavouk&lt;/option&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/select&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div id="swissInfo" class="hidden bg-blue-50 p-4 rounded-lg"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-blue-800"&gt;&lt;strong&gt;Švýcarský systém:&lt;/strong&gt; Automatické párování podle pořadí&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl shadow-lg p-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-bold text-gray-800 mb-4"&gt;👥 Účastníci (&lt;span id="participantCount"&gt;0&lt;/span&gt;)&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex gap-2 mb-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="newParticipant" class="flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg" placeholder="Jméno" onkeypress="if(event.key==='Enter') addParticipant()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="addParticipant()" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg"&gt;Přidat&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="participantsList" class="grid grid-cols-1 md:grid-cols-2 gap-2 mb-4"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;button onclick="startTournament()" id="startButton" class="w-full mt-4 bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg hidden"&gt;▶️ Spustit turnaj&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Sekce zápasů --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="matchesSection" class="hidden space-y-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl shadow-lg p-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-center mb-4 flex-wrap gap-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-800" id="tournamentTitle"&gt;&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-2 flex-wrap"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="showSearch()" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg no-print"&gt;🔍&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="editRounds()" id="editRoundsBtn" class="hidden bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg no-print"&gt;✏️&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="generateNextRound()" id="nextRoundBtn" class="hidden bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg no-print"&gt;Další kolo&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="generatePlayoff()" id="playoffBtn" class="hidden bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg no-print"&gt;Play-off&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="duplicateTournament()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-lg no-print"&gt;📋&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="window.print()" class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg no-print"&gt;🖨️&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="showQRCode()" class="bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg no-print"&gt;📱&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="resetTournament()" class="bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg no-print"&gt;Reset&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="progressBar" class="mb-4"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between text-sm text-gray-600 mb-1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span&gt;Průběh&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span id="progressText"&gt;0%&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="progress-bar"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="progress-fill" id="progressFill" style="width:0%"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="matchesContent"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Sekce play-off --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="playoffSection" class="hidden space-y-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl shadow-lg p-6"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-center"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-bold text-gray-800"&gt;🏆 Play-off&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="backToGroups()" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg no-print"&gt;← Zpět&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="resetTournament()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg no-print"&gt;Reset&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div id="playoffContent"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;!-- Modaly --&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="searchModal" class="modal hidden" onclick="if(event.target===this) closeSearch()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-xl font-bold mb-4"&gt;🔍 Vyhledat&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="searchInput" oninput="performSearch()" class="w-full px-4 py-2 border-2 rounded-lg mb-4" placeholder="Jméno hráče"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="searchResults" class="max-h-96 overflow-y-auto"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="statsModal" class="modal hidden" onclick="if(event.target===this) closeStats()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-xl font-bold mb-4"&gt;📊 Statistiky&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="statsContent"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="historyModal" class="modal hidden" onclick="if(event.target===this) closeHistory()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-xl font-bold mb-4"&gt;📜 Historie&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="historyContent" class="max-h-96 overflow-y-auto"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="editRoundsModal" class="modal hidden" onclick="if(event.target===this) closeEditRounds()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="modal-content" style="max-width:800px"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-xl font-bold mb-4"&gt;✏️ Upravit kola&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="editRoundsContent" class="max-h-96 overflow-y-auto"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="mt-4 flex justify-end gap-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="closeEditRounds()" class="bg-gray-500 text-white px-4 py-2 rounded-lg"&gt;Zrušit&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;button onclick="saveRoundEdits()" class="bg-blue-600 text-white px-4 py-2 rounded-lg"&gt;💾 Uložit&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="qrModal" class="modal hidden" onclick="if(event.target===this) closeQR()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-xl font-bold mb-4"&gt;📱 QR kód&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div id="qrCodeContainer"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="notificationContainer"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div id="pwaInstallPrompt" class="hidden fixed bottom-4 right-4 bg-white rounded-lg shadow-2xl p-4 max-w-sm z-50 border-2 border-blue-500 no-print"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="flex items-start gap-3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="text-4xl"&gt;📱&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;div class="flex-1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;h4 class="font-bold mb-1"&gt;Instalovat?&lt;/h4&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-gray-600 mb-3"&gt;Přidat na plochu&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="flex gap-2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="installPWA()" class="bg-blue-600 text-white px-4 py-2 rounded text-sm"&gt;Instalovat&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button onclick="dismissPWAPrompt()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded text-sm"&gt;Později&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if('serviceWorker' in navigator){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.addEventListener('load',()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>navigator.serviceWorker.register('./service-worker.js');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let deferredPrompt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.addEventListener('beforeinstallprompt',(e)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>e.preventDefault();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>deferredPrompt=e;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(!localStorage.getItem('pwaPromptDismissed')){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout(()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>document.getElementById('pwaInstallPrompt').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>},3000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.installPWA=async()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(!deferredPrompt)return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>deferredPrompt.prompt();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>deferredPrompt=null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('pwaInstallPrompt').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.dismissPWAPrompt=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('pwaInstallPrompt').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>localStorage.setItem('pwaPromptDismissed','true');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script type="module"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.tournamentData={name:'',system:'roundrobin',numGroups:2,playoffType:'winners',pointSystem:2,tieBreakRules:'wins-sets-direct',participants:[],matches:[],groups:[],playoffMatches:[],swissRound:1,step:'setup',history:[]};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{loadData,saveData,exportToFile,importFromFile}from'./modules/storage.js';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{renderParticipants,addParticipant as addP,removeParticipant}from'./modules/setup.js';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{generateRoundRobin,renderRoundRobin}from'./modules/roundrobin.js';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{generateGroups,renderGroups}from'./modules/groups.js';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{generateSwiss,renderSwiss,nextSwissRound}from'./modules/swiss.js';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{generatePlayoffMatches,renderPlayoff}from'./modules/playoff.js';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>import{updateProgressBar}from'./modules/utils.js';</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.addEventListener('DOMContentLoaded',()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>loadData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderParticipants();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>changeSystem();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(localStorage.getItem('darkMode')==='true'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.body.classList.add('dark-mode');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.changeSystem=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const system=document.getElementById('systemSelect').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.system=system;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('groupSettings').classList.toggle('hidden',system!=='groups');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('swissInfo').classList.toggle('hidden',system!=='swiss');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.addParticipant=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>addP();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const last=window.tournamentData.participants[window.tournamentData.participants.length-1];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(last)window.addToHistory('participant_add',{name:last.name});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderParticipants();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.removeParticipant=(id)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const p=window.tournamentData.participants.find(p=&gt;p.id===id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>removeParticipant(id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(p)window.addToHistory('participant_remove',{name:p.name});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderParticipants();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.startTournament=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const name=document.getElementById('tournamentName').value.trim();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const participants=window.tournamentData.participants;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(!name){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.showNotification('❌ Zadejte název!','error');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(participants.length&lt;2){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.showNotification('❌ Přidejte alespoň 2!','error');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.name=name;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.step='matches';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.pointSystem=parseInt(document.getElementById('pointSystem').value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.tieBreakRules=document.getElementById('tieBreakRules').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const system=window.tournamentData.system;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(system==='roundrobin'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>generateRoundRobin();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderRoundRobin();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.addToHistory('tournament_start',{system:'RR',participants:participants.length});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.showNotification(`✅ Turnaj spuštěn!`,'success');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}else if(system==='groups'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const numGroups=parseInt(document.getElementById('numGroups').value);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.tournamentData.numGroups=numGroups;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.tournamentData.playoffType=document.getElementById('playoffType').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>generateGroups(numGroups);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderGroups();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.addToHistory('tournament_start',{system:'Groups',numGroups,participants:participants.length});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.showNotification(`✅ Skupiny!`,'success');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}else if(system==='swiss'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>generateSwiss();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderSwiss();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.addToHistory('tournament_start',{system:'Swiss',participants:participants.length});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.showNotification(`✅ Švýcar spuštěn!`,'success');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('setupSection').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('matchesSection').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('tournamentTitle').textContent=name;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.generateNextRound=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(window.tournamentData.system==='swiss'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>nextSwissRound();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderSwiss();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.generatePlayoff=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>generatePlayoffMatches();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.addToHistory('playoff_generate',{type:window.tournamentData.playoffType});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('matchesSection').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('playoffSection').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderPlayoff();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.backToGroups=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('playoffSection').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('matchesSection').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.resetTournament=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(!confirm('Resetovat?'))return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.step='setup';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.matches=[];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.groups=[];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.playoffMatches=[];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.swissRound=1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.participants=window.tournamentData.participants.map(p=&gt;({...p,wins:0,losses:0,draws:0,setsWon:0,setsLost:0,points:0}));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('setupSection').classList.remove('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('matchesSection').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('playoffSection').classList.add('hidden');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>renderParticipants();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.addToHistory('tournament_reset',{});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.showNotification('🔄 Reset','warning');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.exportData=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>exportToFile();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.addToHistory('data_export',{});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.importData=(e)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>importFromFile(e,()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.addToHistory('data_import',{});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderParticipants();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>changeSystem();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.toggleDarkMode=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.body.classList.toggle('dark-mode');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>localStorage.setItem('darkMode',document.body.classList.contains('dark-mode'));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.exportToPDF=()=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.body.classList.add('pdf-export');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const originalTitle=document.title;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.title=window.tournamentData.name||'Turnaj';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.print();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.title=originalTitle;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.body.classList.remove('pdf-export');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.addMatchNote=(matchId,groupId=null)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>let match;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(groupId!==null){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const g=window.tournamentData.groups.find(g=&gt;g.id===groupId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>match=g?.matches.find(m=&gt;m.id===matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}else{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>match=window.tournamentData.matches.find(m=&gt;m.id===matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const note=prompt('Poznámka:',match?.note||'');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(note===null)return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(groupId!==null){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.tournamentData.groups=window.tournamentData.groups.map(g=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if(g.id===groupId){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>return{...g,matches:g.matches.map(m=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>if(m.id===matchId)return{...m,note:note.trim()};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>return m;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>})};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>return g;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderGroups();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}else{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.tournamentData.matches=window.tournamentData.matches.map(m=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if(m.id===matchId)return{...m,note:note.trim()};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>return m;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if(window.tournamentData.system==='roundrobin'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>renderRoundRobin();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}else if(window.tournamentData.system==='swiss'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>renderSwiss();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(note.trim()){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.showNotification('📝 Poznámka přidána','success');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.togglePlayingNow=(matchId,groupId=null)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(groupId!==null){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.tournamentData.groups=window.tournamentData.groups.map(g=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if(g.id===groupId){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>return{...g,matches:g.matches.map(m=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>if(m.id===matchId){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>const newState=!m.playingNow;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>if(newState)window.addToHistory('match_playing',{player1:m.player1.name,player2:m.player2.name});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                                </span>return{...m,playingNow:newState};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                            </span>return m;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>})};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>return g;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderGroups();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}else{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const match=window.tournamentData.matches.find(m=&gt;m.id===matchId);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>window.tournamentData.matches=window.tournamentData.matches.map(m=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>if(m.id===matchId){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>const newState=!m.playingNow;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>if(newState&amp;&amp;match)window.addToHistory('match_playing',{player1:match.player1.name,player2:match.player2.name});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>return{...m,playingNow:newState};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>return m;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>if(window.tournamentData.system==='roundrobin'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>renderRoundRobin();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}else if(window.tournamentData.system==='swiss'){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>renderSwiss();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.editRounds=()=&gt;{alert('Funkce úpravy kol zatím není implementována')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.closeEditRounds=()=&gt;{};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.saveRoundEdits=()=&gt;{};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.showSearch=()=&gt;{document.getElementById('searchModal').classList.remove('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.closeSearch=()=&gt;{document.getElementById('searchModal').classList.add('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.performSearch=()=&gt;{};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.showStats=()=&gt;{document.getElementById('statsModal').classList.remove('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.closeStats=()=&gt;{document.getElementById('statsModal').classList.add('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.showHistory=()=&gt;{document.getElementById('historyModal').classList.remove('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.closeHistory=()=&gt;{document.getElementById('historyModal').classList.add('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.showQRCode=()=&gt;{document.getElementById('qrModal').classList.remove('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.closeQR=()=&gt;{document.getElementById('qrModal').classList.add('hidden')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.duplicateTournament=()=&gt;{alert('Duplikace zatím není implementována')};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.showNotification=(msg,type)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const c=document.getElementById('notificationContainer');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const n=document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>n.className=`notification ${type==='error'?'bg-red-500':type==='warning'?'bg-orange-500':'bg-green-500'} text-white`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>n.textContent=msg;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>c.appendChild(n);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout(()=&gt;n.remove(),3000);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.addToHistory=(action,details)=&gt;{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(!window.tournamentData.history)window.tournamentData.history=[];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>window.tournamentData.history.push({timestamp:new Date().toISOString(),action,details});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(window.tournamentData.history.length&gt;100)window.tournamentData.history=window.tournamentData.history.slice(-100);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
